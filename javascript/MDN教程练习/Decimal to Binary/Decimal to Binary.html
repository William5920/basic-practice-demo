<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Decimal to Binary</title>
	</head>
	<body>
		<input id="dec-number" type="number" placeholder="输入一个十进制非负整数">
		<input id="bin-bit" type="number" placeholder="输入转化后二进制数字位数">
		<button id="trans-btn">转化为二进制</button>
		<p id="result">运算结果</p>

		<script>
			
			var dec_number = document.querySelector('#dec-number');
			var bin_bit =document.querySelector('#bin-bit');
			var transBtn = document.querySelector('#trans-btn');
			var result = document.querySelector('#result');

			function dec2bin(decNumber) {
				if(decNumber < 0) {
					alert('请输入一个十进制非负整数！');
				} else {
					var binNumberArr = [];
					for(var i = 0; decNumber > 0; i++) {
						binNumberArr[i] = decNumber % 2;
						decNumber = parseInt(decNumber / 2);
					}

					var binBit = Number(bin_bit.value);
					bitFill(binNumberArr,binBit);

					var binNumber = '';
					for(var j = binNumberArr.length; j > 0; j--) {
						binNumber += binNumberArr[j-1];
					}

					return binNumber;
				}
			}

			function bitFill(arr, bit) {
				var len = arr.length;
				if (len >= bit) {
					console.log('您输入的位数小于转化后的二进制位数！');
					return;
				} else {
					for(var i = len; len < bit; bit--,i++ ) {
						arr[i] = 0;
					}
				}
			}

			transBtn.onclick = function() {
				var decNum = Number(dec_number.value);
				result.innerHTML = '运算结果是：' + dec2bin(decNum);
			}
		</script>
	</body>
</html>